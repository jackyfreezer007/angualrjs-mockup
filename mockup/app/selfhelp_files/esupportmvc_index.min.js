window.CategoryVideoListModel=Backbone.Model.extend({initialize:function(a){this.url="video/topic/"+a.activetopicid}});window.FaqListModel=Backbone.Model.extend({initialize:function(a){this.url=a.producttype+"/topic/"+a.activetopicid+"/faq"}});
window.FaqListView=ESupportView.extend({initialize:function(){this.template=tpl.get("faq_list")},events:{"show.bs.collapse .panel-collapse":"expandFaq","hide.bs.collapse .panel-collapse":"collapseFaq","click .list-page":"goToPage","click #viewAll":"viewAll","click #btn-print-faq":"printFAQ","click .faq-share":"shareFAQ","click .box-close":"closeShareBox"},render:function(a){var b=this;b.model=new FaqListModel({producttype:ESupportApp.sessionStatus.faq.producttype,activetopicid:ESupportApp.sessionStatus.faq.topic});
b.model.set("producttype",ESupportApp.sessionStatus.faq.producttype);b.model.set("selectedcategoryname",a);b.model.set("activefaqid",ESupportApp.sessionStatus.faq.faq);b.model.fetch({success:function(){b._setPaginationInfo(b.model);b.model.set("faqsCount",b.model.get("value").length);var a=juicer(b.template,b.model.toJSON());$(b.el).html(a.toString());$("#placeholder_faqlist").html(b.el);b.undelegateEvents();b.delegateEvents();b.selectFaq()}})},_setPaginationInfo:function(a){var b=this.model.get("value").length/
6,c=1;if("0"!=a.get("activefaqid")){var d=a.get("value"),f=a.get("activefaqid"),e=0;for(i=0;i<d.length;i++)if(f==d[i].id){e=i+1;c=Math.ceil(e/6);break}}a.set("pageNumber",Math.ceil(b));a.set("pageIndex",c);a.set("isViewAll",!1)},selectFaq:function(){if("0"!=ESupportApp.sessionStatus.faq.faq){var a=ESupportApp.sessionStatus.faq.faq;$("#collapse_"+a).collapse();$("body").scrollTop($("#faq_"+a).offset().top)}},expandFaq:function(a){$(a.currentTarget).prev().find("img").attr({src:"css/images/icon_carrot_expanded_23x15.png",
width:"24",height:"14"})},collapseFaq:function(a){$(a.currentTarget).prev().find("img").attr({src:"css/images/icon_carrot_collapsed_14x24.png",width:"14",height:"24"})},goToPage:function(a){a=$(a.currentTarget).text();this.model.set("isViewAll",!1);this.model.set("pageIndex",a);a=juicer(this.template,this.model.toJSON());$(this.el).html(a.toString());$("#placeholder_faqlist").html(this.el);this.delegateEvents()},viewAll:function(){this.model.set("isViewAll",!0);var a=juicer(this.template,this.model.toJSON());
$(this.el).html(a.toString());$("#placeholder_faqlist").html(this.el);this.delegateEvents()},printFAQ:function(){window.print()},shareFAQ:function(){$("#copy-url").val(window.location.href);$(".box-share").show()},closeShareBox:function(){$(".box-share").hide()}});
window.FaqMainView=ESupportView.extend({initialize:function(a){this.template=tpl.get("faq_main")},events:{"click .producttype-carousel .producttypeblock":"selectproduct"},el:"#mainBody",render:function(){this.saveSessionStatus(arguments);this.changeNavigaterStatus();var a={},b=ESupportApp.sessionStatus.faq.producttype.replace(/\s/g,"_"),b=b.toLowerCase();a[b]="producttypeblock-active";a=juicer(this.template,a);$(this.el).html(a.toString());"undefined"==typeof this.faqTopicView&&(this.faqTopicView=
new FaqTopicView);this.faqTopicView.render();"undefined"==typeof this.headerSearchView&&(this.headerSearchView=new HeaderSearchView);this.headerSearchView.render()},changeNavigaterStatus:function(){$("#navlink \x3e ul \x3eli").css("border-bottom","0px");$("#navlink \x3e ul \x3e li:nth-child(3)").css("border-bottom","6px solid #555")},saveSessionStatus:function(a){"object"==typeof a&&0<a.length&&("default"!=a[0]&&(ESupportApp.sessionStatus.faq.producttype=a[0],ESupportApp.sessionStatus.video.producttype=
a[0]),ESupportApp.sessionStatus.faq.topic=a[1],ESupportApp.sessionStatus.faq.faq=a[2])},selectproduct:function(a){var b=$(a.currentTarget).attr("esupport-data");a=$(a.currentTarget);$(".producttypeblock").removeClass("producttypeblock-active");a.addClass("producttypeblock-active");ESupportApp.sessionStatus.faq.producttype!=b&&(ESupportApp.sessionStatus.faq.producttype=b,ESupportApp.sessionStatus.faq.topic="0",ESupportApp.sessionStatus.faq.faq="0");"undefined"==typeof this.faqTopicView&&(this.faqTopicView=
new FaqTopicView);this.faqTopicView.render()}});ESupportView.registerRouter("!product/:producttype/topic/:topicid/faq/:faqid",FaqMainView);window.FaqTopicModel=Backbone.Model.extend({initialize:function(a){if("undefined"==typeof a||null==a)this.set("producttype","WebEx Meeting Center"),this.set("activetopicid","0");this.url=this.get("producttype")+"/faq/topics"}});
window.FaqTopicView=ESupportView.extend({initialize:function(a){this.template=tpl.get("faq_topic")},events:{"click .category-link":"selectCategory"},render:function(){var a=this;a.model=new FaqTopicModel({producttype:ESupportApp.sessionStatus.faq.producttype});var b=ESupportApp.sessionStatus.faq.producttype,b=b.substring(6);a.model.set("productshowname",b);a.model.set("activetopicid",ESupportApp.sessionStatus.faq.topic);this.model.fetch({success:function(){"0"==a.model.get("activetopicid")&&0<a.model.get("value").length&&
(a.model.set("activetopicid",a.model.get("value")[0].id),ESupportApp.sessionStatus.faq.topic=a.model.get("value")[0].id);var b=juicer(a.template,a.model.toJSON());$(a.el).html(b.toString());$("#placeholder_faqtopic").html(a.el);a.undelegateEvents();a.delegateEvents();a.faqListRender()}})},faqListRender:function(){var a=$("#faqtopic_"+this.model.get("activetopicid")).text();this.renderSelectedTopic();"undefined"==typeof this.faqListView&&(this.faqListView=new FaqListView);this.faqListView.render(a);
"undefined"==typeof this.printFaqListView&&(this.printFaqListView=new PrintFaqListView);this.printFaqListView.render(a)},selectCategory:function(a){var b=$(a.target).attr("esupport-data");a=$(a.target).text();this.model.set("activetopicid",b);$("#faqtopic_"+this.model.get("activetopicid")+"_count").text();this.renderSelectedTopic();ESupportApp.sessionStatus.faq.topic=b;ESupportApp.sessionStatus.faq.faq="0";"undefined"==typeof this.faqListView&&(this.faqListView=new FaqListView);this.faqListView.render(a);
"undefined"==typeof this.printFaqListView&&(this.printFaqListView=new PrintFaqListView);this.printFaqListView.render(a)},renderSelectedTopic:function(){$("#list_faqtopic .label-topic").removeClass("active");$("#faqtopic_"+this.model.get("activetopicid")).parent().addClass("active")}});window.FeaturedVideoModel=Backbone.Model.extend({initialize:function(){this.url="home/featuredVideos"}});
window.FeaturedVideoView=ESupportView.extend({initialize:function(a){this.template=tpl.get("featured_video");this.model=new FeaturedVideoModel},el:"#featured_video",events:{"click .link-topvideo":"selectTopVideo"},render:function(){var a=this;this.model.fetch({success:function(){var b=juicer(a.template,a.model.toJSON());$("#featured_video").html(b.toString())}})},selectTopVideo:function(){}});
window.HeaderView=ESupportView.extend({initialize:function(a){this.template=tpl.get("header");this.afterRender=a.callback},render:function(){var a=juicer(this.template,{});$("#header").html(a.toString());this.afterRender();return this}});window.HomePlayedVideoModel=Backbone.Model.extend({initialize:function(){this.url="home/homePlayedVideo"}});
window.HomePlayedVideoView=ESupportView.extend({initialize:function(a){this.template=tpl.get("home_played_video");this.model=new HomePlayedVideoModel},el:"#home_played_video",render:function(){var a=this;this.model.fetch({success:function(){var b=juicer(a.template,a.model.toJSON());$("#home_played_video").html(b.toString());brightcove.createExperiences()}})}});
window.HomeView=ESupportView.extend({initialize:function(){this.template=tpl.get("home")},el:"#mainBody",events:{"show.bs.collapse #contactcontent":"handlerContact","hide.bs.collapse #contactcontent":"handlerContact"},render:function(){var a=juicer(this.template,{});$(this.el).html(a.toString());this.changeNavigaterStatus();(new KBSearchBarView).render();(new FeaturedVideoView).render();(new HomePlayedVideoView).render();(new TopFaqView).render();this.searchBarRewrite();return this},changeNavigaterStatus:function(){$("#navlink \x3e ul \x3eli").css("border-bottom",
"0px");$("#navlink \x3e ul \x3e li:nth-child(1)").css("border-bottom","6px solid #555")},handlerContact:function(){$("#contactcontent").is(":visible")?$("#home_contact_link").find("img").attr("src","css/images/icon_carrot_collapsed_14x24.png"):$("#home_contact_link").find("img").attr("src","css/images/icon_carrot_expanded_23x15.png")},searchBarRewrite:function(){$("#placeholder_headersearchbar").empty()}});ESupportView.registerRouter("",HomeView);
window.KBSearchBarView=ESupportView.extend({el:"#kbSearchBarPlaceholder",initialize:function(a){this.template=tpl.get("kbsearch_bar")},events:{"click #navsearchbtn":"setKeyword"},render:function(a){var b=this;$(this.el).bind("keypress",function(a){13==(a.keyCode||a.which)&&b.setKeyword()});return this},setKeyword:function(){var a=$("#homesearchbox").val();null==a||""==a?$("#emptyKeywordWarning").modal("show"):location.hash="#kbsearch/"+encodeURIComponent(a)}});
window.HeaderSearchView=KBSearchBarView.extend({initialize:function(a){this.template=tpl.get("headersearch")},el:"#placeholder_headersearchbar",render:function(a){var b=this;a=juicer(this.template,{});$(this.el).html(a.toString());$(this.el).bind("keypress",function(a){13==(a.keyCode||a.which)&&b.setKeyword()})}});
window.KBSearchLayoutView=ESupportView.extend({initialize:function(){this.template=tpl.get("kbsearch_layout")},el:"#mainBody",events:{"click #reSearchBtn":"setKeyword"},render:function(a){a=juicer(this.template,{keyword:a});$(this.el).html(a.toString());this.searchBarRewrite();var b=this;$("#reSearchBox").bind("keypress",function(a){13==(a.keyCode||a.which)&&b.setKeyword()})},searchResults:function(a){this.render();this.keyword=a?a:"";(this.isKeywordBlank=""===$.trim(a))||(new KBSearchView).launchSearch({keyword:a})},
setKeyword:function(){var a=$("#reSearchBox").val();null==a||""==a?$("#emptyKeywordWarning").modal("show"):location.hash="#kbsearch/"+encodeURIComponent(a)},searchBarRewrite:function(){$("#placeholder_headersearchbar").empty()}});ESupportView.registerRouter("kbsearch/:keyword",KBSearchLayoutView,"searchResults");
window.KBSearchModel=Backbone.Model.extend({initialize:function(){this.url=function(){var a="https://www.googleapis.com/customsearch/v1?key\x3d"+this.get("SearchKey")+"\x26cx\x3d"+this.get("SearchEngineId"),b=encodeURIComponent(this.get("keyword")),a=null==this.get("sortBy")||""==this.get("sortBy")||"All"==this.get("sortBy")?a+("\x26q\x3d"+b+"+more:pagemap:metatags-category:video,faq+more:pagemap:metatags-lastModifiedTime:"+this.get("VideoTag")+","+this.get("FAQTag")):a+("\x26q\x3d"+b+"+more:pagemap:metatags-category:"+
this.get("sortBy")+"+more:pagemap:metatags-lastModifiedTime:"+this.get(this.get("sortBy")+"Tag")+"\x26filter\x3d0");null!=this.get("start")&&""!=this.get("start")&&(b=10*(this.get("start")-1)+1,a+="\x26start\x3d"+b);return a}}});window.ContentTagsModel=Backbone.Model.extend({initialize:function(){this.url="kbSearch/contentTags"}});window.SearchContextModel=Backbone.Model.extend({initialize:function(){this.url="kbSearch/searchContext"}});
window.KBSearchView=ESupportView.extend({initialize:function(a){this.template=tpl.get("kbsearch_result");this.model=new KBSearchModel(a)},events:{"click .dropdown-menu li a":"sortBy","click .gsc-cursor-page:not(.gsc-cursor-current-page)":"pagination"},launchSearch:function(a){this.model.set(a);this.render()},sortBy:function(a){a.preventDefault();a=$(a.currentTarget);var b=a.attr("href");this.model.set("start",1);this.model.set("sortBy",b);$(".dropdown-toggle").html(a.text()+' \x3cspan class\x3d"caret"\x3e\x3c/span\x3e');
this.render()},pagination:function(a){a=$(a.target).text();this.model.set("start",a);this.render();$("html, body").animate({scrollTop:$("#mainBody").offset().top},10)},render:function(){var a=this,b=new SearchContextModel;b.fetch({success:function(){var c=b.toJSON().value,d=new ContentTagsModel;d.fetch({success:function(){var b=d.toJSON().value;a.model.set("VideoTag",b.VIDEO);a.model.set("FAQTag",b.FAQ);a.model.set("SearchKey",c.key);a.model.set("SearchEngineId",c.engineId);a.model.fetch({success:function(){if(a.model.has("items")){var b=
a.model.get("searchInformation"),c=a.model.get("items").length;a.model.set("resultNumber",c);a.model.set("pageNumber",Math.ceil(b.totalResults/10));a.model.set("pageIndex",Math.ceil(a.model.get("queries").request[0].startIndex/10))}else a.model.set("resultNumber",0),a.model.set("pageIndex",0),a.model.set("pageNumber",0);b=juicer(a.template,a.model.toJSON());$(a.el).html(b.toString());$("#kbSearchResultPlaceholder").html($(a.el));a.delegateEvents();$("#reSearchBox").val(a.model.get("keyword"))},error:function(){alert("Sorry, run into error when searching, please try it again later.")}})}})},
error:function(){alert("Sorry, please contact the site administrator.")}});return this}});window.LoginModel=Backbone.Model.extend({initialize:function(){this.urlRoot="login/user"}});
window.LoginView=ESupportView.extend({disableLogin:!1,el:"#loginContainer",initialize:function(){this.template=tpl.get("login");this.model=new LoginModel},events:{"click #btnLogin":"_doLogin"},render:function(){var a=juicer(this.template,{});$("#loginContainer").html(a.toString());var b=this;$("#loginContainer").bind("keypress",function(a){13==(a.keyCode||a.which)&&b._doLogin()})},_doLogin:function(){var a=this;if(!a.disableLogin){a.disableLogin=!0;var b=$("#email").val(),c=$("#password").val();$.post("login/user?rnd\x3d"+
Math.random(),{email:b,password:c}).done(function(a){a.success?window.location.href="index.html":alert(a.errorMsg)}).fail(function(){alert("Sign in failed, please try it again.")}).always(function(){a.disableLogin=!1})}}});
window.PrintFaqListView=ESupportView.extend({initialize:function(){this.template=tpl.get("print_faq_list")},render:function(a){var b=this;b.model=new FaqListModel({producttype:ESupportApp.sessionStatus.faq.producttype,activetopicid:ESupportApp.sessionStatus.faq.topic});b.model.set("selectedcategoryname",a);b.model.fetch({success:function(){var a=juicer(b.template,b.model.toJSON());$(b.el).html(a.toString());$("#printableBody").html(b.el);b.undelegateEvents();b.delegateEvents()}})}});
window.SignInModel=Backbone.Model.extend({initialize:function(){this.url="login/status"}});
window.SignInView=ESupportView.extend({el:"#signIn",initialize:function(){this.template=tpl.get("sign_in");this.model=new SignInModel},events:{"click .signOut":"doSignOut"},render:function(){var a=this;this.model.fetch({url:"login/status?rnd\x3d"+Math.random(),success:function(){var b=juicer(a.template,a.model.toJSON());$("#signIn").html(b.toString());b=tpl.get("profile");b=juicer(b,a.model.toJSON());$("#userDetail").popover({animate:!1,placement:"bottom",html:!0,content:b,template:'\x3cdiv role\x3d"tooltip" class\x3d"popover fade bottom in" style\x3d"top: 23px; left: 328px; display:block;max-width:500px"\x3e\x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e\x3ch3 class\x3d"popover-title"\x3e\x3c/h3\x3e\x3cdiv class\x3d"popover-content"\x3e\x3c/div\x3e\x3c/div\x3e',
title:"Site Detail",trigger:"manual"}).mouseenter(function(a){var b=this;$(this).popover("show");$(this).siblings(".popover").mouseleave(function(){$(b).popover("hide")})}).mouseleave(function(a){var b=$(this);setTimeout(function(){$(".popover:hover").length||$(b).popover("hide")},50)})}})},doSignOut:function(a){confirm("Would you like to sign out?")&&$.get("login/signOut?rnd\x3d"+Math.random()).done(function(a){a.success?window.location.href="index.html":alert(a.errorMsg)}).fail(function(a){alert("Sign out failed, please try it again.")})}});
window.TopFaqModel=Backbone.Model.extend({initialize:function(){this.url="home/topFAQs"}});window.TopFaqView=ESupportView.extend({initialize:function(a){this.template=tpl.get("top_faq");this.model=new TopFaqModel},el:"#top_faq",render:function(){var a=this;this.model.fetch({success:function(){var b=juicer(a.template,a.model.toJSON());$("#top_faq").html(b.toString())}})}});window.TopicModel=Backbone.Model.extend({initialize:function(){this.url="topic"}});
window.TopicView=ESupportView.extend({initialize:function(a){this.model=new TopicModel},render:function(a){that=this;this.model.fetch({url:"topic/"+a,success:function(){(new VideoMainView({producttype:that.model.get("value").productType,activetopic:that.model.get("value").id})).render()}})}});ESupportView.registerRouter("topic/:id",TopicView);window.VideoDetailModel=Backbone.Model.extend({initialize:function(){this.url="video"},render:function(){}});
window.VideoDetailView=ESupportView.extend({initialize:function(a){this.template=tpl.get("video_detail");this.model=new VideoDetailModel},el:"#video",render:function(a){var b=this;this.model.set("id",a);this.model.fetch({success:function(){var a=juicer(b.template,b.model.toJSON());$("#mainBody").html(a.toString())}})}});ESupportView.registerRouter("!video/:id",VideoDetailView);
window.VideoListView=ESupportView.extend({initialize:function(a){this.template=tpl.get("video_list");this.params=a},events:{"click .list-page":"goToPage","click #viewAll":"viewAll"},render:function(a){var b=this;b.model=new CategoryVideoListModel({activetopicid:ESupportApp.sessionStatus.video.topic});b.model.set("producttype",ESupportApp.sessionStatus.video.producttype);b.model.set("selectedcategoryname",a);b.model.set("activevideoid",ESupportApp.sessionStatus.video.video);this.model.fetch({success:function(){b._setPaginationInfo(b.model);
b.model.set("videosCount",b.model.get("value").length);var a=juicer(b.template,b.model.toJSON());$(b.el).html(a.toString());$("#placeholder_videolist").html(b.el);b.undelegateEvents();b.delegateEvents();b.selectVideo()}})},_setPaginationInfo:function(a){var b=this.model.get("value").length/6,c=1;if("0"!=a.get("activevideoid")){var d=a.get("value"),f=a.get("activevideoid"),e=0;for(i=0;i<d.length;i++)if(f==d[i].id){e=i+1;c=Math.ceil(e/6);break}}a.set("pageNumber",Math.ceil(b));a.set("pageIndex",c);
a.set("isViewAll",!1)},selectVideo:function(){var a=this;if("0"!=ESupportApp.sessionStatus.video.video){var b=ESupportApp.sessionStatus.video.video,c=this.model.get("value"),d={};$.each(c,function(c,e){if(e.id==b){d=e;var g=a.model.get("activetopicid")+"_"+b;ESupportApp.sessionStatus.video.playingvideokey==g&&ESupportApp.sessionStatus.video.topic==a.model.get("activetopicid")&&($(".div-videosection .row").css("background-color","#FFFFFF"),$("#video_"+b).css("background-color","#E2F2F8"));0==$("#playvideoid_"+
b).length&&("undefined"==typeof a.unitvideoPlayer&&(a.unitvideoPlayer=new VideoPlayerView),a.unitvideoPlayer.render(d))}})}},goToPage:function(a){a=$(a.currentTarget).text();this.model.set("isViewAll",!1);this.model.set("pageIndex",a);a=juicer(this.template,this.model.toJSON());$(this.el).html(a.toString());$("#placeholder_videolist").html(this.el)},viewAll:function(){this.model.set("isViewAll",!0);var a=juicer(this.template,this.model.toJSON());$(this.el).html(a.toString());$("#placeholder_videolist").html(this.el)}});
window.VideoMainView=ESupportView.extend({initialize:function(a){this.template=tpl.get("video_main")},events:{"click .producttype-carousel .producttypeblock":"selectproduct","show.bs.collapse #product":"showProduct","hide.bs.collapse #product":"hideProduct"},el:"#mainBody",render:function(){this.saveSessionStatus(arguments);this.changeNavigaterStatus();var a={},b=ESupportApp.sessionStatus.video.producttype.replace(/\s/g,"_"),b=b.toLowerCase();a[b]="producttypeblock-active";a=juicer(this.template,
a);$(this.el).html(a.toString());"undefined"==typeof this.videoTopicView&&(this.videoTopicView=new VideoTopicView);this.videoTopicView.render();"undefined"==typeof this.headerSearchView&&(this.headerSearchView=new HeaderSearchView);this.headerSearchView.render()},changeNavigaterStatus:function(){$("#navlink \x3e ul \x3eli").css("border-bottom","0px");$("#navlink \x3e ul \x3e li:nth-child(2)").css("border-bottom","6px solid #555")},saveSessionStatus:function(a){"object"==typeof a&&0<a.length&&("default"!=
a[0]&&(ESupportApp.sessionStatus.faq.producttype=a[0],ESupportApp.sessionStatus.video.producttype=a[0]),ESupportApp.sessionStatus.video.topic=a[1],ESupportApp.sessionStatus.video.video=a[2],ESupportApp.sessionStatus.video.playingvideokey=a[1]+"_"+a[2])},selectproduct:function(a){var b=$(a.currentTarget).attr("esupport-data");a=$(a.currentTarget);$(".producttypeblock").removeClass("producttypeblock-active");a.addClass("producttypeblock-active");ESupportApp.sessionStatus.video.producttype!=b&&(ESupportApp.sessionStatus.video.producttype=
b,ESupportApp.sessionStatus.video.topic="0",ESupportApp.sessionStatus.video.video="0");"undefined"==typeof this.videoTopicView&&(this.videoTopicView=new VideoTopicView);this.videoTopicView.render()},showProduct:function(){$(".productbarblock").css("height","300px");$("#maincontainer").css("margin-top","-1001px");$("#productbar").find("img").attr("src","css/images/icon_triangle_expanded_13x9.png")},hideProduct:function(){$(".productbarblock").css("height","60px");$("#maincontainer").css("margin-top",
"-761px");$("#productbar").find("img").attr("src","css/images/icon_triangle_collapsed_9x13.png")}});ESupportView.registerRouter("!product/:producttype/topic/:topicid/video/:videoid",VideoMainView);
window.VideoPlayerView=ESupportView.extend({initialize:function(a){this.template=tpl.get("video_player")},render:function(a){this.model=a;a=juicer(this.template,this.model);$(this.el).html(a.toString());$("#videocontainer").html(this.el);this.undelegateEvents();this.delegateEvents();$("#videocontainer").is(":hidden")&&($("#videolable").hide(),$("#product").collapse(),$("#product").addClass("collapseproduct"),$(".productblock").css("height","701px"),$(".productbarblock").show(),$("#maincontainer").css("margin-top",
"-761px"),$("#videocontainer").show(),$("#productbar").show(),$("#shadow").css("height",$(document).height()).hide());brightcove.createExperiences()},events:{"click .playbtn":"playVideo","click #shadow":"clickShadow"},playVideo:function(){"undefined"!==typeof videoPlayer&&($("#maskdiv").css("z-index","-1"),$("#shadow").show(),videoPlayer.play())},clickShadow:function(){videoPlayer.pause();$("#shadow").hide()}});
window.VideoTopicModel=Backbone.Model.extend({initialize:function(a){if("undefined"==typeof a||null==a)this.set("producttype","WebEx Meeting Center"),this.set("activetopicid","0");this.url=this.get("producttype")+"/video/topics"}});
window.VideoTopicView=ESupportView.extend({initialize:function(a){this.template=tpl.get("video_topic")},events:{"click .category-link":"selectCategory"},render:function(){var a=this;a.model=new VideoTopicModel({producttype:ESupportApp.sessionStatus.video.producttype});var b=ESupportApp.sessionStatus.video.producttype,b=b.substring(6);a.model.set("productshowname",b);a.model.set("activetopicid",ESupportApp.sessionStatus.video.topic);this.model.fetch({success:function(){"0"==a.model.get("activetopicid")&&
0<a.model.get("value").length&&(a.model.set("activetopicid",a.model.get("value")[0].id),ESupportApp.sessionStatus.video.topic=a.model.get("value")[0].id);var b=juicer(a.template,a.model.toJSON());$(a.el).html(b.toString());$("#placeholder_videotopic").html(a.el);a.undelegateEvents();a.delegateEvents();a.videoListRender()}})},videoListRender:function(){var a=$("#videotopic_"+this.model.get("activetopicid")).text();this.renderSelectedTopic();"undefined"==typeof this.videoListView&&(this.videoListView=
new VideoListView);this.videoListView.render(a)},selectCategory:function(a){var b=$(a.target).attr("esupport-data");a=$(a.target).text();this.model.set("activetopicid",b);$("#videotopic_"+this.model.get("activetopicid")+"_count").text();this.renderSelectedTopic();ESupportApp.sessionStatus.video.topic=b;"undefined"==typeof this.videoListView&&(this.videoListView=new VideoListView);this.videoListView.render(a)},renderSelectedTopic:function(){$("#list_videotopic .label-topic").removeClass("active");
$("#videotopic_"+this.model.get("activetopicid")).parent().addClass("active")}});